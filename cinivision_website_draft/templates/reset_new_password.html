{% extends "base.html" %}
{% block content %}
<div class="auth-page-wrapper">
    <div class="auth-card-royal">
        <div class="auth-card-header">
            <img src="{{ url_for('static', filename='images/Cine visions logo 002.png') }}" alt="CineVisions Logo"
                style="width: 60px; margin-bottom: 10px;">
            <h2 class="auth-title">Reset Password</h2>
            <p class="auth-subtitle">Enter your new password</p>
        </div>

        <div class="auth-form-container active" style="display: block;">
            <form action="/reset-new-password" method="POST">
                <div class="royal-form-group">
                    <label class="royal-label">New Password</label>
                    <div class="royal-input-wrap">
                        <i class="fas fa-lock royal-icon"></i>
                        <input type="password" name="password" id="newPass" class="royal-input"
                            placeholder="New Password" required>
                        <i class="fas fa-eye royal-eye" onclick="togglePass('newPass')"></i>
                    </div>
                </div>

                <div class="royal-form-group">
                    <label class="royal-label">Confirm Password</label>
                    <div class="royal-input-wrap">
                        <i class="fas fa-lock royal-icon"></i>
                        <input type="password" id="confirmPass" class="royal-input" placeholder="Confirm Password"
                            required oninput="checkMatch()">
                    </div>
                    <small id="matchMsg" style="display:none; color: red;">Passwords do not match</small>
                </div>

                <button type="submit" class="royal-btn" id="resetBtn">
                    Reset Password <i class="fas fa-save"></i>
                </button>
            </form>
        </div>
    </div>
</div>

<script>
    function togglePass(id) {
        var x = document.getElementById(id);
        x.type = x.type === "password" ? "text" : "password";
    }

    function checkMatch() {
        var desc = document.getElementById('newPass').value;
        var conf = document.getElementById('confirmPass').value;
        var msg = document.getElementById('matchMsg');
        var btn = document.getElementById('resetBtn');

        if (desc != conf) {
            msg.style.display = 'block';
            btn.disabled = true;
            btn.style.opacity = 0.6;
        } else {
            msg.style.display = 'none';
            btn.disabled = false;
            btn.style.opacity = 1;
        }
    }
</script>
{% endblock %}